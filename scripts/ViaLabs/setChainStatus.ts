import { HDNodeWallet, JsonRpcProvider } from "ethers";

// connects to local node
const jsonRpcProvider = new JsonRpcProvider("https://evm-rpc.testnet-2.nibiru.fi:443");
// const jsonRpcProvider = new JsonRpcProvider("https://evm-rpc.nibiru.fi:443");
// const jsonRpcProvider = new JsonRpcProvider("http://localhost:8545");

// mnemonic for the HD wallet
const mnemonic = "guard cream sadness conduct invite crumble clock pudding hole grit liar hotel maid produce squeeze return argue turtle know drive eight casino maze host"
const owner = HDNodeWallet.fromPhrase(mnemonic, "", "m/44'/118'/0'/0/0").connect(jsonRpcProvider)

async function main() {
  console.log("owner address:", owner.address)

  const response = await owner.sendTransaction({
    to: '0x0eefCF172F7e5C04A8d565f4e955968221fDb18f',
    value: 0,
    data: '0x241f53c9000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000003c00000000000000000000000000000000000000000000000000000000000000720000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000003e50000000000000000000000000000000000000000000000000000000000066eee000000000000000000000000000000000000000000000000000000004e4541530000000000000000000000000000000000000000000000000000000003e17ff00000000000000000000000000000000000000000000000000000000003e158e4000000000000000000000000000000000000000000000000000000000000a8690000000000000000000000000000000000000000000000000000000000014a3400000000000000000000000000000000000000000000000000000000000000610000000000000000000000000000000000000000000000000000000000001e5b000000000000000000000000000000000000000000000000000000000a0c71fd000000000000000000000000000000000000000000000000000000000000006f0000000000000000000000000000000000000000000000000000000000000b48000000000000000000000000000000000000000000000000000000000004f5880000000000000000000000000000000000000000000000000000000000001e15000000000000000000000000000000000000000000000000000000000000aef300000000000000000000000000000000000000000000000000000000000013fb0000000000000000000000000000000000000000000000000000000000000047000000000000000000000000000000000000000000000000000000000000045b0000000000000000000000000000000000000000000000000000000000000152000000000000000000000000000000000000000000000000000000000000011a0000000000000000000000000000000000000000000000000000000006a63bb8000000000000000000000000000000000000000000000000000000000000014f00000000000000000000000000000000000000000000000000000000000000b80000000000000000000000000000000000000000000000000000000000000f63000000000000000000000000000000000000000000000000000000000000053a0000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000de0b6b3a7640000',
    gasLimit: '227574',
    gasPrice: '1265625000000',
    chainId: 6911,
  })
  console.log("response: ", response)

  const receipt = await jsonRpcProvider.waitForTransaction(response.hash)
  console.log("receipt: ", receipt)
}

main()